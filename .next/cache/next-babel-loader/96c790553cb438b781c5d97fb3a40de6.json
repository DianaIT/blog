{"ast":null,"code":"import matter from \"gray-matter\";\nimport marked from \"marked\";\nimport yaml from \"js-yaml\";\nexport async function getAllPosts() {\n  const context = require.context(\"../../_posts\", false, /\\.md$/);\n\n  const posts = [];\n\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../../_posts/${post}`);\n    const meta = matter(content.default);\n    posts.push({\n      id: meta.data.id,\n      slug: post.replace(\".md\", \"\"),\n      title: meta.data.title,\n      date: meta.data.date\n    });\n  }\n  /* Ordenar por id de mayor a menor\r\n  https://es.stackoverflow.com/questions/61119/c%C3%B3mo-ordenar-arreglos-gui%C3%A1ndose-por-su-id-en-javascript\r\n  */\n\n\n  const array = posts.sort(function (a, b) {\n    return b.id - a.id;\n  });\n  return array;\n}\nexport async function getPostBySlug(slug) {\n  const fileContent = await import(`../../_posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const content = marked(meta.content);\n  return {\n    title: meta.data.title,\n    content: content\n  };\n}\nexport async function getConfig() {\n  const config = await import(`../../config.yml`);\n  return yaml.safeLoad(config.default);\n}","map":{"version":3,"sources":["C:/Users/DianaIT/Documents/nextjs/blog/pages/api/index.js"],"names":["matter","marked","yaml","getAllPosts","context","require","posts","key","keys","post","slice","content","meta","default","push","id","data","slug","replace","title","date","array","sort","a","b","getPostBySlug","fileContent","getConfig","config","safeLoad"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,OAAO,eAAeC,WAAf,GAA6B;AAClC,QAAMC,OAAO,GAAGC,OAAO,CAACD,OAAR,CAAgB,cAAhB,EAAgC,KAAhC,EAAuC,OAAvC,CAAhB;;AACA,QAAME,KAAK,GAAG,EAAd;;AACA,OAAK,MAAMC,GAAX,IAAkBH,OAAO,CAACI,IAAR,EAAlB,EAAkC;AAChC,UAAMC,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAb;AACA,UAAMC,OAAO,GAAG,MAAM,OAAQ,gBAAeF,IAAK,EAA5B,CAAtB;AACA,UAAMG,IAAI,GAAGZ,MAAM,CAACW,OAAO,CAACE,OAAT,CAAnB;AACAP,IAAAA,KAAK,CAACQ,IAAN,CAAW;AACTC,MAAAA,EAAE,EAAEH,IAAI,CAACI,IAAL,CAAUD,EADL;AAETE,MAAAA,IAAI,EAAER,IAAI,CAACS,OAAL,CAAa,KAAb,EAAoB,EAApB,CAFG;AAGTC,MAAAA,KAAK,EAAEP,IAAI,CAACI,IAAL,CAAUG,KAHR;AAITC,MAAAA,IAAI,EAAER,IAAI,CAACI,IAAL,CAAUI;AAJP,KAAX;AAMD;AAED;;;;;AAGA,QAAMC,KAAK,GAAGf,KAAK,CAACgB,IAAN,CAAW,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACvC,WAAOA,CAAC,CAACT,EAAF,GAAOQ,CAAC,CAACR,EAAhB;AACD,GAFa,CAAd;AAIA,SAAOM,KAAP;AACD;AAED,OAAO,eAAeI,aAAf,CAA6BR,IAA7B,EAAmC;AACxC,QAAMS,WAAW,GAAG,MAAM,OAAQ,gBAAeT,IAAK,KAA5B,CAA1B;AACA,QAAML,IAAI,GAAGZ,MAAM,CAAC0B,WAAW,CAACb,OAAb,CAAnB;AACA,QAAMF,OAAO,GAAGV,MAAM,CAACW,IAAI,CAACD,OAAN,CAAtB;AACA,SAAO;AACLQ,IAAAA,KAAK,EAAEP,IAAI,CAACI,IAAL,CAAUG,KADZ;AAELR,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID;AAED,OAAO,eAAegB,SAAf,GAA2B;AAChC,QAAMC,MAAM,GAAG,MAAM,OAAQ,kBAAR,CAArB;AACA,SAAO1B,IAAI,CAAC2B,QAAL,CAAcD,MAAM,CAACf,OAArB,CAAP;AACD","sourcesContent":["import matter from \"gray-matter\";\r\nimport marked from \"marked\";\r\nimport yaml from \"js-yaml\";\r\n\r\nexport async function getAllPosts() {\r\n  const context = require.context(\"../../_posts\", false, /\\.md$/);\r\n  const posts = [];\r\n  for (const key of context.keys()) {\r\n    const post = key.slice(2);\r\n    const content = await import(`../../_posts/${post}`);\r\n    const meta = matter(content.default);\r\n    posts.push({\r\n      id: meta.data.id,\r\n      slug: post.replace(\".md\", \"\"),\r\n      title: meta.data.title,\r\n      date: meta.data.date,\r\n    });\r\n  }\r\n\r\n  /* Ordenar por id de mayor a menor\r\n  https://es.stackoverflow.com/questions/61119/c%C3%B3mo-ordenar-arreglos-gui%C3%A1ndose-por-su-id-en-javascript\r\n  */\r\n  const array = posts.sort(function (a, b) {\r\n    return b.id - a.id;\r\n  });\r\n\r\n  return array;\r\n}\r\n\r\nexport async function getPostBySlug(slug) {\r\n  const fileContent = await import(`../../_posts/${slug}.md`);\r\n  const meta = matter(fileContent.default);\r\n  const content = marked(meta.content);\r\n  return {\r\n    title: meta.data.title,\r\n    content: content,\r\n  };\r\n}\r\n\r\nexport async function getConfig() {\r\n  const config = await import(`../../config.yml`);\r\n  return yaml.safeLoad(config.default);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}