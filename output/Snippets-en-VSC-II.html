<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>📝 Custom snippets en VSC (II)</title>
    <link type="text/css" rel="stylesheet" href="assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css"/>
  </head>
  <body>
    <article class="markdown-body"><p>Ya hemos visto la forma básica de crear un snippet, ahora vamos a ir un paso más alla.</p>
<h3 id="💲-variables"><a class="header-link" href="#💲-variables"></a>💲 Variables</h3>
<p>Gracias a las variables que tenemos por defecto podemos desde poner la fecha actual hasta el nombre del archivo, su extensión, el directorio en el que estamos trabajando...
Y lo mejor es que las podemos modificiar con expresiones regulares. Aquí podeis ver la <a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_variables">Lista de variables</a>.</p>
<pre class="hljs"><code>title: ${TM_FILENAME_BASE/[\\-]/ <span class="hljs-regexp">/g};
/</span><span class="hljs-regexp">/ title: Snippets en VSC Parte II</span></code></pre><p>Esto coge el título del archivo que se está modificando sin la extensión cambiando los &quot;-&quot; por espacios en blanco. De esta manera solo tengo que llamar al archivo con el título que quiero para el artículo y listo ¿Cómodo, no?
Aquí teneis otros ejemplos de la <a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_transform-examples">documentación</a> de <strong>VSC</strong></p>
<p>Lo mismo podemos hacer con la fecha</p>
<pre class="hljs"><code>date: $CURRENT_DATE / $CURRENT_MONTH / $CURRENT_YEAR_SHORT;
<span class="hljs-comment">// date: 06/08/20</span></code></pre><h3 id="🍊-scope"><a class="header-link" href="#🍊-scope"></a>🍊 Scope</h3>
<p>Los snippets están restringuidos por defecto a un lenguaje en concreto, ya vimos que modificando el archivo <strong>javascript.json</strong> sólo se aplicará cuando la exptensión del archivo sea la correspondiente. Pero también se pueden hacer archivos globales para poder usar nuestros snippets en cualquier tipo deextensión.</p>
<p>Si queremos un archivo global de snippets tenemos que ponerle el sufijo <strong>.code-snippets</strong>.
Podemos añadir una nueva propiedad <strong>scope</strong> dónde poner los lenguajes para los que está activo el snippet. Si no ponemos nada estará habilitado para todo tipo de extensiones.</p>
<pre class="hljs"><code><span class="hljs-comment">// snippets.code-snippets</span>
{
  <span class="hljs-string">"Page next"</span>: { <span class="hljs-comment">// Nombre</span>
    <span class="hljs-string">"prefix"</span>: <span class="hljs-string">"page"</span>, <span class="hljs-comment">// Abrebiatura para "llamar" al snippet</span>
    <span class="hljs-string">"scope"</span>: <span class="hljs-string">"javascript,typescript"</span>, <span class="hljs-comment">// Opcional [default: all]</span>
    <span class="hljs-string">"body"</span>: [
      <span class="hljs-string">"export default function $1({$2}){"</span>
        <span class="hljs-string">"return"</span>
          <span class="hljs-string">"(&lt;&gt;$3&lt;/&gt;)"</span>
      <span class="hljs-string">"}"</span>
    ],
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"A new Peage en Next.js"</span> <span class="hljs-comment">// Opcional</span>
  }
}</code></pre><h3 id="🍟-otras-cositas-interesantes"><a class="header-link" href="#🍟-otras-cositas-interesantes"></a>🍟 Otras cositas interesantes</h3>
<ul class="list">
<li><p>Podemos ponerle una serie de valores por defecto a una parte del codigo</p>
<pre class="hljs"><code>tag: ${<span class="hljs-number">1</span>|<span class="hljs-string">'front'</span>,<span class="hljs-string">'series'</span>|}</code></pre></li>
</ul>
<p>de esta manera al llegar a esa sección nos aparecerá un desplegable para que eligamos una de las opciones disponibles. ¡Queda muy chulo, la verdad! 👌</p>
<ul class="list">
<li>Podemos también poner un único valor por defecto .Y sólo con escribir cuando lleguemos se cambiará.</li>
</ul>
<pre class="hljs"><code>author: <span class="hljs-string">'${0:DianaIT}'</span>,</code></pre><ul class="list">
<li>Si ponemos dos veces el mismo ínidice, se cambiarán a la vez una vez modifiquemos el primero.</li>
</ul>
<pre class="hljs"><code>
    <span class="hljs-string">"title:  `${1|📝, 📺|} ${TM_FILENAME_BASE/[\\-]/ /g}`"</span>,
    <span class="hljs-string">"tag: $1"</span>,</code></pre><p>Así quedaría el snippet que uso para los posts</p>
<pre class="hljs"><code>{
  <span class="hljs-string">"post template"</span>: {
    <span class="hljs-string">"prefix"</span>: <span class="hljs-string">"post"</span>,
    <span class="hljs-string">"body"</span>: [
        <span class="hljs-string">"---"</span>,
    <span class="hljs-string">"title:  `${1|📝, 📺|} ${TM_FILENAME_BASE/[\\-]/ /g}`"</span>,
    <span class="hljs-string">"tag: ${1|'front','series'|}"</span>,
        <span class="hljs-string">"author: '${0:DianaIT}'"</span>,
        <span class="hljs-string">"date: '$CURRENT_DATE/$CURRENT_MONTH/$CURRENT_YEAR_SHORT'"</span>,
    <span class="hljs-string">"updateAt: ''"</span>

        <span class="hljs-string">"---"</span>,
        <span class="hljs-string">"### ❓ ¿Qué es?"</span>,
        <span class="hljs-string">"### 👌 ¿Qué tiene de bueno?"</span>,
        <span class="hljs-string">"### ✅ Requisitos"</span>,
        <span class="hljs-string">"### 💻 Comandos"</span>,
        <span class="hljs-string">"```bash"</span>,
        <span class="hljs-string">"npm run dev"</span>,
        <span class="hljs-string">"```"</span>,
        <span class="hljs-string">"### 🍆 Estructura"</span>,
        <span class="hljs-string">"📚 _sources:_"</span>,
        <span class="hljs-string">"- []()"</span>,
        <span class="hljs-string">"- []()"</span>,
        <span class="hljs-string">"- []()"</span>,
    ],
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"template for a new post in DianaIT's blog"</span>
  }
}</code></pre><p>Y ya sólo quedaría ponerse a escribir.</p>
<p>📚 <em>sources:</em></p>
<ul class="list">
<li><a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets">Visual Studio Code Snippets</a></li>
<li><a href="https://code.visualstudio.com/docs/editor/variables-reference">Variable references</a></li>
</ul>
    </article>
  </body>
</html>
