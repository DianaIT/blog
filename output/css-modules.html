<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title> 📝 CSS Modules</title>
    <link type="text/css" rel="stylesheet" href="assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css"/>
  </head>
  <body>
    <article class="markdown-body"><h2 id="❓-¿por-qué?"><a class="header-link" href="#❓-¿por-qué?"></a>❓ ¿Por qué?</h2>
<p>La última versión de Next.js, la <a href="https://github.com/vercel/next.js/releases/tag/v9.5.0">v9.5.0</a>, ha cambiado el CSS que incorporá en su plantilla por defecto pasando de jsx a CSS Modules. Así que vamos a echarle un ojo a ver que va esto.
<img src="../img/cssmodulesnext.png" alt=" Use CSS and CSS modules in default application template">
Como siempre, esto no deja de ser una introducción que me ayuda a interiorizar conceptos más rápidamente.</p>
<h2 id="🤷-¿qué-es?"><a class="header-link" href="#🤷-¿qué-es?"></a>🤷 ¿Qué es?</h2>
<blockquote>
<p><em>&quot;A CSS Module is a CSS file in which all class names and animation names are scoped locally by default&quot;</em></p>
</blockquote>
<p>Ficheros CSS con clases de ámbito local por defecto.</p>
<h2 id="🌐-¿qué-significa-esto?"><a class="header-link" href="#🌐-¿qué-significa-esto?"></a>🌐 ¿Qué significa esto?</h2>
<p>No se trata de una especeficacion oficial, es más bien un proceso que se realiza en el paso de <strong>build</strong>. Css modules cambia el nombre de las clases, añandiendole numéritos y letras - <a href="https://es.wikipedia.org/wiki/Funci%C3%B3n_hash">un hash de toda la vida 😄</a> - para evitar sobrescritura de clases y conflictos de estilos.</p>
<p>Sin CSS Modules cada documento .css tiene un ámbito global, si repetimos una clase en 2 archivos diferentes, 2 clases o 2 elementos html, y tenemos importados los dos archivos no tenemos ningún control sobre los estilos que estamos aplicando a nuestra aplicación.</p>
<p>Bueno, para ser exactos, realmente si lo tenemos, ya que por algo esta lo de <strong>*Cascading</strong> style sheets.* Existe una jerarquía que nos dice que el último archivo importando será el ganador, siempre y cuando el selector sea más especifico, pero nos puede dar más de un problema si no controlamos CSS correctamente.</p>
<h2 id="🔨-¿cómo-funciona?"><a class="header-link" href="#🔨-¿cómo-funciona?"></a>🔨 ¿Cómo funciona?</h2>
<p>Crea una clase globalmente única compuesta por el nombre del archivo css, el nombre de la clase y un identificador único. Sería algo así.</p>
<pre class="hljs"><code><span class="hljs-comment">/* styles.module.css */</span>

<span class="hljs-selector-class">.foo</span> {
  <span class="hljs-attribute">color</span>: red;
}</code></pre><pre class="hljs"><code><span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./styles.css"</span> <span class="hljs-comment">// CSS MODULES</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">"./main.css"</span> <span class="hljs-comment">// IMPORTACIÓN NORMAL DE CSS</span>
;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{sytles.foo}</span>&gt;</span> CSS <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></code></pre><pre class="hljs"><code><span class="hljs-comment">&lt;!-- EL NAVEGADOR VERÍA ALGO ASÍ
class = "ARCHIVO_CLASE_ID_UNICO" --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"styles_foo_4xfe1"</span>&gt;</span>CSS<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></code></pre><h2 id="🤚-a-tener-en-cuanta"><a class="header-link" href="#🤚-a-tener-en-cuanta"></a>🤚 A tener en cuanta</h2>
<ul class="list">
<li>Se recomienda el uso de <strong>camelCase</strong> para el nombrado de las clases, porque la alternativa, <strong>kebab-case</strong> puede causar un comportamiento inesperado al intentar acceder mediante <strong>style.class-name</strong></li>
</ul>
<pre class="hljs"><code>style.class - name <span class="hljs-comment">// Puede crear problemas</span>

style[<span class="hljs-string">"class-name"</span>] <span class="hljs-comment">// Así se evitarían estos problemas</span>

style.className <span class="hljs-comment">// camelCase</span></code></pre><h2 id="🍉-resumiendo..."><a class="header-link" href="#🍉-resumiendo..."></a>🍉 Resumiendo...</h2>
<blockquote>
<p>Whenever I start a new component, I know that there are no global styles that will interfere with my work.</p>
</blockquote>
<p><a href="https://twitter.com/ahfarmer"><strong>@ahfarmer</strong></a></p>
<p>CSS Modules coge nuestras clases y las hace únicas. Esto nos permite repetir nombres de clases sin miedo a que se produzcan resultados no deseados en el layout de nuestra aplicación.¿</p>
<p>📚 <em>sources:</em></p>
<ul class="list">
<li><p><a href="https://github.com/css-modules/css-modules">css-modules/css-modules</a></p>
</li>
<li><p><a href="http://javascriptstuff.com/what-are-css-modules/">What are CSS Modules? A visual introduction</a></p>
</li>
<li><p><a href="https://create-react-app.dev/docs/adding-a-css-modules-stylesheet/">Create React App · Set up a modern web app by running one command.</a></p>
</li>
<li><p><a href="https://css-tricks.com/css-modules-part-1-need/">What are CSS Modules and why do we need them? | CSS-Tricks</a></p>
</li>
</ul>
    </article>
  </body>
</html>
